<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Internationalization</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="libxfce4util Reference Manual">
<link rel="up" href="libxfce4util-fundamentals.html" title="Xfce Fundamentals">
<link rel="prev" href="libxfce4util-Version-Information.html" title="Version Information">
<link rel="next" href="libxfce4util-Software-Licenses.html" title="Software Licenses">
<meta name="generator" content="GTK-Doc V1.4 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="reference.html" title="libxfce4util Overview">
<link rel="chapter" href="libxfce4util-fundamentals.html" title="Xfce Fundamentals">
<link rel="chapter" href="libxfce4util-core.html" title="Xfce Core Application support">
<link rel="chapter" href="libxfce4util-utilities.html" title="Xfce Utilities">
<link rel="chapter" href="libxfce4util-datatypes.html" title="Xfce Data types">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle">
<td><a accesskey="p" href="libxfce4util-Version-Information.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="libxfce4util-fundamentals.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libxfce4util Reference Manual</th>
<td><a accesskey="n" href="libxfce4util-Software-Licenses.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry" lang="en">
<a name="libxfce4util-Internationalisation"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle">Internationalization</span></h2>
<p>Internationalization &#8212; Internationalization and Localization Support Functions</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;libxfce4util/libxfce4util.h&gt;


void        <a href="libxfce4util-Internationalisation.html#xfce-textdomain">xfce_textdomain</a>                 (const gchar *package,
                                             const gchar *localedir,
                                             const gchar *encoding);
const gchar* <a href="libxfce4util-Internationalisation.html#xfce-strip-context">xfce_strip_context</a>             (const gchar *msgid,
                                             const gchar *msgval);
gchar*      <a href="libxfce4util-Internationalisation.html#xfce-get-file-localized">xfce_get_file_localized</a>         (const gchar *filename);
gchar*      <a href="libxfce4util-Internationalisation.html#xfce-get-file-localized-r">xfce_get_file_localized_r</a>       (gchar *buffer,
                                             gsize length,
                                             const gchar *filename);
gchar*      <a href="libxfce4util-Internationalisation.html#xfce-get-dir-localized">xfce_get_dir_localized</a>          (const gchar *directory);
gchar*      <a href="libxfce4util-Internationalisation.html#xfce-get-dir-localized-r">xfce_get_dir_localized_r</a>        (gchar *buffer,
                                             gsize length,
                                             const gchar *directory);
gchar*      <a href="libxfce4util-Internationalisation.html#xfce-get-path-localized">xfce_get_path_localized</a>         (gchar *dst,
                                             gsize size,
                                             const gchar *paths,
                                             const gchar *filename,
                                             GFileTest test);
#define     <a href="libxfce4util-Internationalisation.html#XFCE-LOCALE-FULL-MATCH:CAPS">XFCE_LOCALE_FULL_MATCH</a>
#define     <a href="libxfce4util-Internationalisation.html#XFCE-LOCALE-NO-MATCH:CAPS">XFCE_LOCALE_NO_MATCH</a>
guint       <a href="libxfce4util-Internationalisation.html#xfce-locale-match">xfce_locale_match</a>               (const gchar *locale1,
                                             const gchar *locale2);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2553093"></a><h2>Description</h2>
<p>
Provides functions to aid application developers making their software
localizable. It extends the basic internationalization support provided
by GLib 2.4 (and newer). See the <a href="http://developer.gnome.org/doc/API/2.0/glib/glib-I18N.html" target="_top">GLib
Internationalization</a> documentation for the information about the
basic functions and macros.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2602602"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2602608"></a><h3>
<a name="xfce-textdomain"></a>xfce_textdomain ()</h3>
<a class="indexterm" name="id2602616"></a><pre class="programlisting">void        xfce_textdomain                 (const gchar *package,
                                             const gchar *localedir,
                                             const gchar *encoding);</pre>
<p>
Sets up the translations for <em class="parameter"><code>package</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>package</code></em>&#160;:</span></td>
<td> the package name.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>localedir</code></em>&#160;:</span></td>
<td> the <em class="parameter"><code>package</code></em>s locale directory.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>encoding</code></em>&#160;:</span></td>
<td> the encoding to use the <em class="parameter"><code>package</code></em>s translations
             or <code class="literal">NULL</code> to use "UTF-8".
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2602790"></a><h3>
<a name="xfce-strip-context"></a>xfce_strip_context ()</h3>
<a class="indexterm" name="id2602798"></a><pre class="programlisting">const gchar* xfce_strip_context             (const gchar *msgid,
                                             const gchar *msgval);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">xfce_strip_context</code> has been deprecated since version 4.4 should not be used in newly-written code. Use <code class="function">g_strip_context()</code> instead.</p>
</div>
<p>
Portable replacement for <code class="function">g_strip_context()</code> introduced in GLib 2.4. You
prefer this method over <code class="function">g_strip_context()</code> cause it allows your software
to be used with older versions of GLib as well, though libxfce4util also
defines a macro named <code class="function">g_strip_context()</code> that simply calls <a href="libxfce4util-Internationalisation.html#xfce-strip-context"><code class="function">xfce_strip_context()</code></a>
if an older GLib version is detected.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>msgid</code></em>&#160;:</span></td>
<td> a string that may be translated.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>msgval</code></em>&#160;:</span></td>
<td> a possible translation for <em class="parameter"><code>msgid</code></em> or the same as <em class="parameter"><code>msgid</code></em>.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> <em class="parameter"><code>msgval</code></em>, unless <em class="parameter"><code>msgval</code></em> is identical to <em class="parameter"><code>msgid</code></em> and contains a
              '|' character, in which case a pointer to the substring of <em class="parameter"><code>msgid</code></em>
              after the first '|' character is returned

</td>
</tr>
</tbody>
</table></div>
<p>Since  4.2

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2602965"></a><h3>
<a name="xfce-get-file-localized"></a>xfce_get_file_localized ()</h3>
<a class="indexterm" name="id2602973"></a><pre class="programlisting">gchar*      xfce_get_file_localized         (const gchar *filename);</pre>
<p>
Checks if theres a version of <em class="parameter"><code>filename</code></em> which is localized to the current
locale. This is done by appending the full locale name to <em class="parameter"><code>filename</code></em>, separated
by a '.'. If theres no file of that name, it retries using the full locale
name without the encoding (if any), then without the qualifier (if any) and
at last the base locale is tried. If all of those fails, a copy of <em class="parameter"><code>filename</code></em>
is returned.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>filename</code></em>&#160;:</span></td>
<td> name of a file to look for a localized version.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> path of the localized file or copy of <em class="parameter"><code>filename</code></em> if no such
              file exists. Returned string should be freed using <code class="function">g_free()</code>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603128"></a><h3>
<a name="xfce-get-file-localized-r"></a>xfce_get_file_localized_r ()</h3>
<a class="indexterm" name="id2603137"></a><pre class="programlisting">gchar*      xfce_get_file_localized_r       (gchar *buffer,
                                             gsize length,
                                             const gchar *filename);</pre>
<p>
Similar in functionality to <a href="libxfce4util-Internationalisation.html#xfce-get-file-localized"><code class="function">xfce_get_file_localized()</code></a>, but stores the
result in <em class="parameter"><code>buffer</code></em> instead of allocating a new buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td> destination buffer to store the localized filename to.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>length</code></em>&#160;:</span></td>
<td> size of <em class="parameter"><code>buffer</code></em> in bytes.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>filename</code></em>&#160;:</span></td>
<td> name of a file to look for a localized version.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> pointer to <em class="parameter"><code>buffer</code></em> or <code class="literal">NULL</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603262"></a><h3>
<a name="xfce-get-dir-localized"></a>xfce_get_dir_localized ()</h3>
<a class="indexterm" name="id2603271"></a><pre class="programlisting">gchar*      xfce_get_dir_localized          (const gchar *directory);</pre>
<p>
Similar to <a href="libxfce4util-Internationalisation.html#xfce-get-file-localized"><code class="function">xfce_get_file_localized()</code></a>, but works on directory instead of
a file.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>directory</code></em>&#160;:</span></td>
<td> directory name to check for a localized variant.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> path of the localized directory name or copy of <em class="parameter"><code>directory</code></em> if
              no such directory exists. Returned string should be freed using
              <code class="function">g_free()</code>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603351"></a><h3>
<a name="xfce-get-dir-localized-r"></a>xfce_get_dir_localized_r ()</h3>
<a class="indexterm" name="id2603360"></a><pre class="programlisting">gchar*      xfce_get_dir_localized_r        (gchar *buffer,
                                             gsize length,
                                             const gchar *directory);</pre>
<p>
Similar to <a href="libxfce4util-Internationalisation.html#xfce-get-file-localized-r"><span class="type">xfce_get_file_localized_r</span></a>, but works on directory instead
of regular file.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td> destination buffer to store the localized filename to.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>length</code></em>&#160;:</span></td>
<td> size of <em class="parameter"><code>buffer</code></em> in bytes.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>directory</code></em>&#160;:</span></td>
<td> name of directory to check for localized variant of.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> pointer to <em class="parameter"><code>buffer</code></em> or <code class="literal">NULL</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603478"></a><h3>
<a name="xfce-get-path-localized"></a>xfce_get_path_localized ()</h3>
<a class="indexterm" name="id2603555"></a><pre class="programlisting">gchar*      xfce_get_path_localized         (gchar *dst,
                                             gsize size,
                                             const gchar *paths,
                                             const gchar *filename,
                                             GFileTest test);</pre>
<p>
<em class="parameter"><code>paths</code></em> is a ':'-separated list of pathnames.
</p>
<p>
 <code class="literal">F</code>  - The <em class="parameter"><code>filename</code></em>
 <code class="literal">L</code>  - The language string, as returned by 
     setlocale(LC_MESSAGES, NULL)
 <code class="literal">l</code>  - The language component of the language string
 <code class="literal">N</code>  - application name
</p>
<p>
Example paths:
</p>
<p>
 /usr/local/lib/<code class="literal">L</code>/<code class="literal">F</code>:/usr/local/share/<code class="literal">N</code>/<code class="literal">l</code>/<code class="literal">F</code></p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>dst</code></em>&#160;:</span></td>
<td> destination buffer.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> size of <em class="parameter"><code>dst</code></em> in bytes.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>paths</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>filename</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>test</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603761"></a><h3>
<a name="XFCE-LOCALE-FULL-MATCH:CAPS"></a>XFCE_LOCALE_FULL_MATCH</h3>
<a class="indexterm" name="id2603769"></a><pre class="programlisting">#define XFCE_LOCALE_FULL_MATCH 50
</pre>
<p>
Returned by <a href="libxfce4util-Internationalisation.html#xfce-locale-match"><span class="type">xfce_locale_match</span></a> in case of a full match.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603790"></a><h3>
<a name="XFCE-LOCALE-NO-MATCH:CAPS"></a>XFCE_LOCALE_NO_MATCH</h3>
<a class="indexterm" name="id2603799"></a><pre class="programlisting">#define XFCE_LOCALE_NO_MATCH    0
</pre>
<p>
Returned by <a href="libxfce4util-Internationalisation.html#xfce-locale-match"><span class="type">xfce_locale_match</span></a> if no match could be detected.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603821"></a><h3>
<a name="xfce-locale-match"></a>xfce_locale_match ()</h3>
<a class="indexterm" name="id2603898"></a><pre class="programlisting">guint       xfce_locale_match               (const gchar *locale1,
                                             const gchar *locale2);</pre>
<p>
The locale is of the general form LANG_COUNTRY.ENCODING @ MODIFIER, where
each of COUNTRY, ENCODING and MODIFIER can be absent.
</p>
<p>
The match is done by actually removing the rightmost element one by one. This
is not entirely according to the freedesktop.org specification, but much easier.
Will probably be fixed in the future.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>locale1</code></em>&#160;:</span></td>
<td> the current locale value as returned by setlocale(LC_MESSAGES,<code class="literal">NULL</code>).
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>locale2</code></em>&#160;:</span></td>
<td> the locale value to match against.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer value indicating the level of matching, where
              the constant <a href="libxfce4util-Internationalisation.html#XFCE-LOCALE-FULL-MATCH:CAPS"><span class="type">XFCE_LOCALE_FULL_MATCH</span></a> indicates a full match
              and <a href="libxfce4util-Internationalisation.html#XFCE-LOCALE-NO-MATCH:CAPS"><span class="type">XFCE_LOCALE_NO_MATCH</span></a> means no match. Every other value
              indicates a partial match, the higher the value, the better
              the match. You should not rely on any specific value besides
              the constants <a href="libxfce4util-Internationalisation.html#XFCE-LOCALE-FULL-MATCH:CAPS"><span class="type">XFCE_LOCALE_FULL_MATCH</span></a> and <a href="libxfce4util-Internationalisation.html#XFCE-LOCALE-NO-MATCH:CAPS"><span class="type">XFCE_LOCALE_NO_MATCH</span></a>,
              since the range of returned values may change in the future.

</td>
</tr>
</tbody>
</table></div>
<p>Since  4.2
</p>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2604014"></a><h2>See Also</h2>
<p>
<a href="http://developer.gnome.org/doc/API/2.0/glib/glib-I18N.html" target="_top">GLib
Internationalization</a>
</p>
</div>
</div>
<table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle">
<td align="left"><a accesskey="p" href="libxfce4util-Version-Information.html"><b>&lt;&lt;&#160;Version Information</b></a></td>
<td align="right"><a accesskey="n" href="libxfce4util-Software-Licenses.html"><b>Software Licenses&#160;&gt;&gt;</b></a></td>
</tr></table>
</body>
</html>
