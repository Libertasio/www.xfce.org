<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Mount Points</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="exo Reference Manual">
<link rel="up" href="exo-miscelleanous.html" title="Part&#160;VI.&#160;Miscelleanous">
<link rel="prev" href="exo-MD5-functions.html" title="MD5 Functions">
<link rel="next" href="exo-String-Utility-Functions.html" title="String Utility Functions">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="part" href="exo-overview.html" title="Part&#160;I.&#160;Overview">
<link rel="part" href="exo-toolbars.html" title="Part&#160;II.&#160;Editable Toolbars">
<link rel="part" href="exo-widgets.html" title="Part&#160;III.&#160;Additional widgets">
<link rel="part" href="exo-cell-renderers.html" title="Part&#160;IV.&#160;Additional cell renderers">
<link rel="part" href="exo-extensions.html" title="Part&#160;V.&#160;Extensions to existing frameworks">
<link rel="part" href="exo-miscelleanous.html" title="Part&#160;VI.&#160;Miscelleanous">
<link rel="part" href="exo-tools.html" title="Part&#160;VII.&#160;Tools">
<link rel="part" href="exo-deprecated-widgets.html" title="Part&#160;VIII.&#160;Deprecated widgets">
<link rel="chapter" href="ch01.html" title="Visual Index">
<link rel="index" href="ix01.html" title="Index">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="exo-MD5-functions.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="exo-miscelleanous.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">exo Reference Manual</th>
<td><a accesskey="n" href="exo-String-Utility-Functions.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2636077" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2636240" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="exo-Mount-Points"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2636077"></a><span class="refentrytitle">Mount Points</span>
</h2>
<p>Mount Points &#8212; Functions to query active and configured mount points</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;exo/exo.h&gt;


enum                <a href="exo-Mount-Points.html#ExoMountPointFlags">ExoMountPointFlags</a>;
                    <a href="exo-Mount-Points.html#ExoMountPoint">ExoMountPoint</a>;
<a href="exo-Mount-Points.html#ExoMountPoint">ExoMountPoint</a>*      <a href="exo-Mount-Points.html#exo-mount-point-dup">exo_mount_point_dup</a>                 (const <a href="exo-Mount-Points.html#ExoMountPoint">ExoMountPoint</a> *mount_point);
void                <a href="exo-Mount-Points.html#exo-mount-point-free">exo_mount_point_free</a>                (<a href="exo-Mount-Points.html#ExoMountPoint">ExoMountPoint</a> *mount_point);
enum                <a href="exo-Mount-Points.html#ExoMountPointMatchMask">ExoMountPointMatchMask</a>;
<a
href="../glib/glib-Singly-Linked-Lists.html#GSList"
>GSList</a>*             <a href="exo-Mount-Points.html#exo-mount-point-list-matched">exo_mount_point_list_matched</a>        (<a href="exo-Mount-Points.html#ExoMountPointMatchMask">ExoMountPointMatchMask</a> mask,
                                                         const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *device,
                                                         const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *folder,
                                                         const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *fstype,
                                                         <a
href="../glib/glib-Error-Reporting.html#GError"
>GError</a> **error);
#define             <a href="exo-Mount-Points.html#exo-mount-point-list-active">exo_mount_point_list_active</a>         (error)
#define             <a href="exo-Mount-Points.html#exo-mount-point-list-configured">exo_mount_point_list_configured</a>     (error)
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2636240"></a><h2>Description</h2>
<p>
  This module provides functions to query active and configured mount points from
  the system. This is commonly required in file and volume management, and hence
  it was added to the library. For example, <span><strong class="command">exo-mount</strong></span>,
  <span><strong class="command">Thunar</strong></span> and <span><strong class="command">thunar-volman</strong></span> make use of this.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2636276"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2636287"></a><h3>
<a name="ExoMountPointFlags"></a>enum ExoMountPointFlags</h3>
<a class="indexterm" name="id2636302"></a><pre class="programlisting">typedef enum /*&lt; flags &gt;*/
{
  EXO_MOUNT_POINT_READ_ONLY = (1L &lt;&lt; 0),
} ExoMountPointFlags;
</pre>
<p>
Identifies options of <a href="exo-Mount-Points.html#ExoMountPoint"><span class="type">ExoMountPoint</span></a>s.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><a name="EXO-MOUNT-POINT-READ-ONLY:CAPS"></a><code class="literal">EXO_MOUNT_POINT_READ_ONLY</code></span></td>
<td> read only mount point.
</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.3.1.13
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636367"></a><h3>
<a name="ExoMountPoint"></a>ExoMountPoint</h3>
<a class="indexterm" name="id2636380"></a><pre class="programlisting">typedef struct {
  ExoMountPointFlags flags;
  gchar             *device;
  gchar             *folder;
  gchar             *fstype;
} ExoMountPoint;
</pre>
<p>
  Structure to represent a mount point, which can be either an
  active mount point, queried from the kernel's internal mount
  table, or a configured mount point queried from the file
  system table (usually <code class="filename">/etc/fstab</code> or
  <code class="filename">/etc/vfstab</code>).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a href="exo-Mount-Points.html#ExoMountPointFlags">ExoMountPointFlags</a>&#160;<em class="structfield"><code>flags</code></em>;</span></td>
<td>see <a href="exo-Mount-Points.html#ExoMountPointFlags"><span class="type">ExoMountPointFlags</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>&#160;*<em class="structfield"><code>device</code></em>;</span></td>
<td>the device file path.
</td>
</tr>
<tr>
<td><span class="term"><a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>&#160;*<em class="structfield"><code>folder</code></em>;</span></td>
<td>the folder where the device is mounted (or may be mounted).
</td>
</tr>
<tr>
<td><span class="term"><a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>&#160;*<em class="structfield"><code>fstype</code></em>;</span></td>
<td>the type of the file system used for the device.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636508"></a><h3>
<a name="exo-mount-point-dup"></a>exo_mount_point_dup ()</h3>
<a class="indexterm" name="id2636524"></a><pre class="programlisting"><a href="exo-Mount-Points.html#ExoMountPoint">ExoMountPoint</a>*      exo_mount_point_dup                 (const <a href="exo-Mount-Points.html#ExoMountPoint">ExoMountPoint</a> *mount_point);</pre>
<p>
Duplicates the specified <em class="parameter"><code>mount_point</code></em> and returns
the duplicate. If <em class="parameter"><code>mount_point</code></em> is <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a>, this simply
returns <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a>.
</p>
<p>
The caller is responsible to free the returned mount
point using <a href="exo-Mount-Points.html#exo-mount-point-free"><code class="function">exo_mount_point_free()</code></a> when no longer
needed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>mount_point</code></em>&#160;:</span></td>
<td> an <a href="exo-Mount-Points.html#ExoMountPoint"><span class="type">ExoMountPoint</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a copy of the specified <em class="parameter"><code>mount_point</code></em>.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.3.1.13
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636654"></a><h3>
<a name="exo-mount-point-free"></a>exo_mount_point_free ()</h3>
<a class="indexterm" name="id2636670"></a><pre class="programlisting">void                exo_mount_point_free                (<a href="exo-Mount-Points.html#ExoMountPoint">ExoMountPoint</a> *mount_point);</pre>
<p>
Frees the resources allocated to the specified <em class="parameter"><code>mount_point</code></em>.
If <em class="parameter"><code>mount_point</code></em> is <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a>, this function does nothing.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>mount_point</code></em>&#160;:</span></td>
<td> an <a href="exo-Mount-Points.html#ExoMountPoint"><span class="type">ExoMountPoint</span></a>.
</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.3.1.13
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636759"></a><h3>
<a name="ExoMountPointMatchMask"></a>enum ExoMountPointMatchMask</h3>
<a class="indexterm" name="id2636774"></a><pre class="programlisting">typedef enum /*&lt; skip &gt;*/
{
  EXO_MOUNT_POINT_MATCH_ACTIVE      = (0L &lt;&lt; 0),
  EXO_MOUNT_POINT_MATCH_CONFIGURED  = (1L &lt;&lt; 0),
  EXO_MOUNT_POINT_MATCH_DEVICE      = (1L &lt;&lt; 1),
  EXO_MOUNT_POINT_MATCH_FOLDER      = (1L &lt;&lt; 2),
  EXO_MOUNT_POINT_MATCH_FSTYPE      = (1L &lt;&lt; 3),
} ExoMountPointMatchMask;
</pre>
<p>
Flags for <a href="exo-Mount-Points.html#exo-mount-point-list-matched"><code class="function">exo_mount_point_list_matched()</code></a>, that control which mount points
will be returned. The fewer match options are specified, the more mount
points will usually match (surprising, eh?).</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="EXO-MOUNT-POINT-MATCH-ACTIVE:CAPS"></a><code class="literal">EXO_MOUNT_POINT_MATCH_ACTIVE</code></span></td>
<td> see <a href="exo-Mount-Points.html#exo-mount-point-list-active"><code class="function">exo_mount_point_list_active()</code></a>.
</td>
</tr>
<tr>
<td><span class="term"><a name="EXO-MOUNT-POINT-MATCH-CONFIGURED:CAPS"></a><code class="literal">EXO_MOUNT_POINT_MATCH_CONFIGURED</code></span></td>
<td> see <a href="exo-Mount-Points.html#exo-mount-point-list-configured"><code class="function">exo_mount_point_list_configured()</code></a>.
</td>
</tr>
<tr>
<td><span class="term"><a name="EXO-MOUNT-POINT-MATCH-DEVICE:CAPS"></a><code class="literal">EXO_MOUNT_POINT_MATCH_DEVICE</code></span></td>
<td> match by device file.
</td>
</tr>
<tr>
<td><span class="term"><a name="EXO-MOUNT-POINT-MATCH-FOLDER:CAPS"></a><code class="literal">EXO_MOUNT_POINT_MATCH_FOLDER</code></span></td>
<td> match by mount point folder.
</td>
</tr>
<tr>
<td><span class="term"><a name="EXO-MOUNT-POINT-MATCH-FSTYPE:CAPS"></a><code class="literal">EXO_MOUNT_POINT_MATCH_FSTYPE</code></span></td>
<td> match by file system type.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.3.1.13
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636963"></a><h3>
<a name="exo-mount-point-list-matched"></a>exo_mount_point_list_matched ()</h3>
<a class="indexterm" name="id2636979"></a><pre class="programlisting"><a
href="../glib/glib-Singly-Linked-Lists.html#GSList"
>GSList</a>*             exo_mount_point_list_matched        (<a href="exo-Mount-Points.html#ExoMountPointMatchMask">ExoMountPointMatchMask</a> mask,
                                                         const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *device,
                                                         const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *folder,
                                                         const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *fstype,
                                                         <a
href="../glib/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Lists mount points matching the given <em class="parameter"><code>mask</code></em> and optionally the parameters <em class="parameter"><code>device</code></em>,
<em class="parameter"><code>folder</code></em> and <em class="parameter"><code>fstype</code></em>. If an error occurrs and <em class="parameter"><code>error</code></em> is non-<a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a>, the <em class="parameter"><code>error</code></em> will
be set to point to a <a
href="../glib/glib-Error-Reporting.html#GError"
><span class="type">GError</span></a> describing the problem, and <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a> will be returned.
Note, however, that <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a> may also be returned if no mount points match.
</p>
<p>
If <em class="parameter"><code>mask</code></em> includes <a href="exo-Mount-Points.html#EXO-MOUNT-POINT-MATCH-ACTIVE:CAPS"><code class="literal">EXO_MOUNT_POINT_MATCH_ACTIVE</code></a>, the currently active mount points will
be matched, that is, the currently mounted file systems, queried from the kernel. Otherwise
if <a href="exo-Mount-Points.html#EXO-MOUNT-POINT-MATCH-CONFIGURED:CAPS"><code class="literal">EXO_MOUNT_POINT_MATCH_CONFIGURED</code></a> is specified, the configured mount points from the
file system table (usually <code class="filename">/etc/fstab</code> or <code class="filename">/etc/vfstab</code>)
will be matched.
</p>
<p>
The caller is responsible to free the returned list using
</p>
<div class="informalexample"><pre class="programlisting">
g_slist_foreach (list, (GFunc) exo_mount_point_free, NULL);
g_slist_free (list);
</pre></div>
<p>
when no longer needed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>mask</code></em>&#160;:</span></td>
<td> the mask of flags that have to match for a mount point to be returned.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>device</code></em>&#160;:</span></td>
<td> the device file to match if <a href="exo-Mount-Points.html#EXO-MOUNT-POINT-MATCH-DEVICE:CAPS"><code class="literal">EXO_MOUNT_POINT_MATCH_DEVICE</code></a> is specified.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>folder</code></em>&#160;:</span></td>
<td> the folder to match if <a href="exo-Mount-Points.html#EXO-MOUNT-POINT-MATCH-FOLDER:CAPS"><code class="literal">EXO_MOUNT_POINT_MATCH_FOLDER</code></a> is specified.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>fstype</code></em>&#160;:</span></td>
<td> the file system type to match if <a href="exo-Mount-Points.html#EXO-MOUNT-POINT-MATCH-FSTYPE:CAPS"><code class="literal">EXO_MOUNT_POINT_MATCH_FSTYPE</code></a> is specified.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for errors or <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the list of matching <a href="exo-Mount-Points.html#ExoMountPoint"><span class="type">ExoMountPoint</span></a>s.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.3.1.13
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2637334"></a><h3>
<a name="exo-mount-point-list-active"></a>exo_mount_point_list_active()</h3>
<a class="indexterm" name="id2637350"></a><pre class="programlisting">#define exo_mount_point_list_active(error) (exo_mount_point_list_matched (EXO_MOUNT_POINT_MATCH_ACTIVE, NULL, NULL, NULL, (error)))
</pre>
<p>
Convenience wrapper for <a href="exo-Mount-Points.html#exo-mount-point-list-matched"><code class="function">exo_mount_point_list_matched()</code></a>, that returns the
currently active mount points, or <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a> in case of an error.
</p>
<p>
The caller is responsible to free the returned list using
</p>
<div class="informalexample"><pre class="programlisting">
g_slist_foreach (list, (GFunc) exo_mount_point_free, NULL);
g_slist_free (list);
</pre></div>
<p>
when no longer needed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for errors or <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a>.
</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.3.1.13
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2637442"></a><h3>
<a name="exo-mount-point-list-configured"></a>exo_mount_point_list_configured()</h3>
<a class="indexterm" name="id2637458"></a><pre class="programlisting">#define exo_mount_point_list_configured(error) (exo_mount_point_list_matched (EXO_MOUNT_POINT_MATCH_CONFIGURED, NULL, NULL, NULL, (error)))
</pre>
<p>
Convenience wrapper for <a href="exo-Mount-Points.html#exo-mount-point-list-matched"><code class="function">exo_mount_point_list_matched()</code></a>, that returns the
configured mount points, i.e. the entries from the file system table (which
is usually specified in <code class="filename">/etc/fstab</code>).
</p>
<p>
The caller is responsible to free the returned list using
</p>
<div class="informalexample"><pre class="programlisting">
g_slist_foreach (list, (GFunc) exo_mount_point_free, NULL);
g_slist_free (list);
</pre></div>
<p>
when no longer needed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for errors or <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a>.
</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.3.1.13
</p>
</div>
</div>
</div>
</body>
</html>
