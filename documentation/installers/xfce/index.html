<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Installing Xfce</title><link rel="stylesheet" href="../installer.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="#index" title="Installing Xfce"><link rel="next" href="#intro" title="Introduction"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="index"></a>Installing Xfce</h1></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Benedikt</span> <span class="surname">Meurer</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a href="mailto:benny@xfce.org">benny@xfce.org</a>&gt;</code></p></div><span class="orgname">os-cillation<br></span><span class="orgdiv">System development<br></span><span class="jobtitle">Software developer<br></span></div></div></div></div><div><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="releaseinfo"><br></br>
      This manual describes the required steps in installing Xfce 4.4RC2 on your system using the
      <a xmlns="" href="http://www.os-cillation.com/article.php?sid=43" target="_top">graphical installation wizard</a>
      provided by <a xmlns="" href="http://www.os-cillation.com/" target="_top">os-cillation</a>.
    <br></br></span></div><div><p class="copyright">Copyright © 2004, 2005, 2006 os-cillation</p></div><div><div class="legalnotice"><a name="legalnotice"></a><p>
        This document is distributed under the terms of the GNU General
        Public License as published by the Free Software Foundation; either
        version 2 of the License, or (at your option) any later version.
      </p></div></div><div><p class="pubdate">November 2006</p></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#intro">Introduction</a></span></dt><dt><span class="sect1"><a href="#preparations">Preparations</a></span></dt><dt><span class="sect1"><a href="#starting">Starting the installation</a></span></dt><dt><span class="sect1"><a href="#">The graphical installation wizard</a></span></dt><dt><span class="sect1"><a href="#postinallation">Postinstallation Tasks</a></span></dt><dd><dl><dt><span class="sect2"><a href="#setting-up-gdm">Setting up GDM</a></span></dt><dt><span class="sect2"><a href="#setting-up-kdm">Setting up KDM</a></span></dt><dt><span class="sect2"><a href="#setting-up-dtlogin">Setting up dtlogin (Unix)</a></span></dt><dt><span class="sect2"><a href="#enabling-xcomposite">Enabling transparency and window shadows</a></span></dt></dl></dd><dt><span class="sect1"><a href="#uninstalling">Uninstalling</a></span></dt><dt><span class="sect1"><a href="#faq">Frequently asked questions</a></span></dt><dt><span class="sect1"><a href="#support">Support and Feedback</a></span></dt></dl></div><p> </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="intro"></a>Introduction</h2></div></div></div><p>
      Installing software from source was mostly pain with Linux/Unix
      systems in the past. Even with proper autoconf'ed software packages, the
      process of configuring, building and installing is an error-prone task,
      especially if you want to configure the software in a custom way, it
      can be disturbing to dive into the software documentation just to figure
      what is required to enable this option.
      In addition its an uneasy task to keep track of installed files once
      more and more software packages are installed from source.
    </p><p>
      This installer was developed to address the issues mentioned
      above. It allows for smooth installation and uninstallation of software
      from source. This offers several advantages over alternative approaches:
    </p><div class="itemizedlist"><ul type="disc"><li>
        It doesn't suffer from the dependency problems that arise
        with most binary based packaging systems, because everything is
        configured and build for the specific target system. This offers a great
        amount of portability.
      </li><li>
        It offers an intuitive and thereby easy to use wizard based graphical
        user interface.
      </li><li>
        It features an easy to use uninstallation tool, that allows you
        to cleanly remove the Xfce Desktop Environment from your computer
        later on.
      </li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="preparations"></a>Preparations</h2></div></div></div><p>
      Before you start the installation process, you need to make sure
      that your system is setup properly to run the installer. The installer
      itself requires a properly working Gtk+ 2.6 (or above) installation,
      whereupon both the Gtk+ runtime files and the Gtk+ development files are
      required. Debian users should check if the package
      <strong class="application"><code>libgtk2.0-dev</code></strong> is installed, whereas RedHat,
      Fedora, Mandrake and SuSE users should check
      <strong class="application"><code>gtk2-devel</code></strong>.
    </p><p>
      In addition to the Gtk+ package, the Xfce desktop environment
      also requires the libraries <code class="systemitem">libICE</code>, 
      <code class="systemitem">libSM</code> and
      <code class="systemitem">libXpm</code>. These files
      are distributed as part of the X11 distribution. Debian users need to
      install the packages <strong class="application"><code>libice-dev</code></strong>,
      <strong class="application"><code>libsm-dev</code></strong> and <strong class="application"><code>libxpm-dev</code></strong>.
      RedHat, Fedora, Mandrake and SuSE users need either
      <strong class="application"><code>XFree86-devel</code></strong> or <strong class="application"><code>xorg-x11-devel</code></strong>
      dependent upon the X11 distribution - XFree86 or XOrg - in use, while
      Mandrake users should also make sure that the package
      <strong class="application"><code>libxpm4-devel</code></strong> is installed.
    </p><p>
      Some Linux distributions have been reported to have obscure 
      dependencies, which allow you to install the development packages
      mentioned above, without actually having a working build environment.
      Please check that you have a working <strong class="application"><code>gcc</code></strong>
      (GNU C Compiler) and a working <strong class="application"><code>cpp</code></strong> (C
      Pre Processor) installed on your system prior to running the installer.
      For example, if you use Fedora FC3, you need to make sure that the
      package named <strong class="application"><code>cpp</code></strong> (which was at
      <strong class="application"><code>cpp-3.4.2-6.fc3</code></strong> at the time of this writing)
      is installed on your system. In case of SuSE Linux, the packages
      in question are usually named <strong class="application"><code>gcc</code></strong> and
      <strong class="application"><code>cpp</code></strong> as well, although the exact name
      may differ.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="starting"></a>Starting the installation</h2></div></div></div><p>
      First of all, you need to download the installer file <code class="filename">xfce4-4.4RC2-installer.run</code>. See
      the <a href="http://www.os-cillation.com/article.php?sid=43" target="_top">Installer Xfce</a> page for download locations.
    </p><p>
      Once downloaded, you need to mark the file <code class="filename">xfce4-4.4RC2-installer.run</code> executable
      using the command:
    </p><pre class="screen">$ chmod +x xfce4-4.4RC2-installer.run</pre><p>
      The remainder of the installation process depends upon where you plan
      to install Xfce. You can either choose to install Xfce system-wide
      for all users (this is the preferable option) or you can choose to
      install Xfce for your user account only (most likely in some place
      below your home directory). Installing Xfce system-wide requires
      root access to the machine and therefore involves the following
      commands:
    </p><pre class="screen">
$ xhost +localhost
$ su
# ./xfce4-4.4RC2-installer.run</pre><p>
      If the installer tells you that it is unable to connect to
      your X server, try the following commands instead:
    </p><pre class="screen">
$ xhost +localhost
$ su
# env DISPLAY=:0 ./xfce4-4.4RC2-installer.run</pre><p>
      You can also use <strong class="application"><code>sudo</code></strong> to run the
      installer with root permissions (this requires you to setup
      <strong class="application"><code>sudo</code></strong> properly first, see the supplied
      documentation for details):
    </p><pre class="screen">$ sudo ./xfce4-4.4RC2-installer.run</pre><p>
      In case you don't have root access to the system or just don't
      want to install Xfce system-wide, you need to run the installer as
      user, using the command:
    </p><pre class="screen">$ ./xfce4-4.4RC2-installer.run</pre><p>
      The installer now verifies the integrity of the downloaded file,
      extracts the installation wizard and the packaged software (this may take a
      while depending on the I/O performance of your computer)
      and performs some other steps required for the installation process.
      In case all these operations are successful, the output given on the
      terminal should look like this:
    </p><pre class="screen">
Verifying file integrity... OK.
Extracting the installer... OK.
Checking for usable C compiler... gcc
Checking for usable C++ compiler... g++
Checking for GNU make... gmake
Checking for package config tool... pkg-config
Checking for GLib (GModule) &gt;= 2.6.0... detected 2.10.3 in /usr/local
Checking for Gtk+ &gt;= 2.6.0... detected 2.8.17 in /usr/X11R6
Compiling installer-gui... OK.
Running installer-gui...</pre><p>
      In case of a problem, the installer will report an error here
      and write detailed information about problem to the file
      <code class="filename">.xfce4.installer-log</code> in your home directory. Please
      include the relevant parts of this file, when reporting problems to the
      <a href="http://forum.xfce.org/" target="_top">forum</a>.
    </p><p>
      A common problem is that the installer is unable to find the Gtk+
      installation on your system. This can have several causes, whereupon the
      most prevalent cause is that you forgot to install the Gtk+ development
      files along with the runtime files, read <a href="#preparations" title="Preparations">the section called &#8220;Preparations&#8221;</a>
      for details on how to fix this problem. If you are sure that you installed
      the Gtk+ development files, but the installer keeps on telling that it
      is unable to detect Gtk+, you may need to set the environment variable
      <code class="varname">PKG_CONFIG_PATH</code> to tell the installer where to find
      your Gtk+ installation. For example, say you installed Gtk+ into
      <code class="filename">/opt/gtk2</code>, you may need to execute
      the command
    </p><pre class="screen">PKG_CONFIG_PATH="/opt/gtk2/lib/pkgconfig:$PKG_CONFIG_PATH"
export PKG_CONFIG_PATH</pre><p>
      prior to running the installer.
    </p><p>
      If everything goes well you will be presented with the graphical
      installation wizard. See the next section for details on the installation
      wizard.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name=""></a>The graphical installation wizard</h2></div></div></div><p>
      Once the installation wizard starts up, it will display an
      introduction screen with information about the software that is
      going to be installed - Xfce Desktop Environment 4.4RC2 in
      this case - and where to ask for help if trouble strikes back. Click
      <span><strong class="guibutton">Next</strong></span> to continue with the installation.
    </p><div class="screenshot"><div class="mediaobject"><img src="images/installer1.png" alt="Welcome screen"></div></div><p>
      The next screen checks if all requirements for the successful installation
      of the Xfce Desktop Environment are met. Besides the requirements listed
      above, you need the ICE authorization helper tool <strong class="application"><code>iceauth</code></strong>,
      which is part of the X11 distribution, and the perl modules <strong class="application"><code>URI::Escape</code></strong>,
      <strong class="application"><code>URI::file</code></strong>, <strong class="application"><code>URI::URL</code></strong> and <strong class="application"><code>XML::Parser</code></strong>,
      which usually ship either as part of the perl package in your distribution or as separate
      packages (you may also install the modules from <a href="http://cpan.org/" target="_top">CPAN</a>).
      You cannot continue from here until all of the requirements are met.
    </p><div class="screenshot"><div class="mediaobject"><img src="images/installer2.png" alt="System requirements screen"></div></div><p>
      Once all of the system requirements are met, you can choose the
      features you want to include with this build. Select a feature from
      the list to see its description.
    </p><div class="screenshot"><div class="mediaobject"><img src="images/installer3.png" alt="Features screen"></div></div><p>
      Now you need to specify the location where you plan to install
      Xfce to. If you started the installer as superuser you can choose
      virtually every directory you like. If you started the installer with
      your user account, you are mostly limited to locations below your home
      directory.
    </p><p>
      If you have Xfce installed already, e.g. say you have installed
      Xfce 4.4BETA1 using the installer, and want to upgrade this installation
      to Xfce 4.4RC2 now, just enter the same path here, that you used for
      the installation of Xfce 4.4BETA2 and the installer will take care of
      upgrading everything properly.
    </p><div class="screenshot"><div class="mediaobject"><img src="images/installer4.png" alt="Prefix screen"></div></div><p>The setup for the installation is finished and the
    installer is ready to build and install Xfce now.</p><div class="screenshot"><div class="mediaobject"><img src="images/installer5.png" alt="Build preparation screen"></div></div><p>
      Xfce is now build and installed on your system, this will
      take a lot of time - around 30 minutes on decent i386 machine. You
      will be present with a button <span><strong class="guibutton">Error log</strong></span> if
      something fails. Click the button to see the log messages.
    </p><div class="screenshot"><div class="mediaobject"><img src="images/installer6.png" alt="Building and installation screen"></div></div><p>
      If the installation succeed, you will be prompted to complete
      the installation wizard, just click <span><strong class="guibutton">Done</strong></span> here.
      The installer will cleanup all temporary files used during the
      installation and terminate itself afterwards.
    </p><div class="screenshot"><div class="mediaobject"><img src="images/installer7.png" alt="Finished screen"></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="postinallation"></a>Postinstallation Tasks</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setting-up-gdm"></a>Setting up GDM</h3></div></div></div><p>
        If you use the GNOME Display Manager (<strong class="application"><code>gdm</code></strong>)
        to start your X session, and did not select the option <span class="emphasis"><em>Setup
        Display Managers</em></span> during the installation or if for some
        reason the installer was unable to setup <strong class="application"><code>gdm</code></strong>
        properly, then you will have to manually create a <code class="filename">.desktop</code>
        file to teach <strong class="application"><code>gdm</code></strong> about your fresh
        Xfce 4.4RC2 install.
      </p><p>
        A sample <code class="filename">xfce42.desktop</code> file is generated in
        <code class="filename">$PREFIX/share/examples</code> (where 
        <code class="varname">$PREFIX</code> is the prefix you chose) during the
        installation already. It is usually enough to simply copy the
        example file to the <code class="filename">Sessions</code>
        directory used by <strong class="application"><code>gdm</code></strong>; this directory is
        usually located in <code class="filename">/etc/dm/Sessions</code>,
        <code class="filename">/etc/X11/gdm/Sessions</code>,
        <code class="filename">/usr/share/xsessions</code>,
        <code class="filename">/usr/X11R6/share/gnome/xsessions</code>
        or some other location, refer to the documentation of your system for
        details. You need to restart <strong class="application"><code>gdm</code></strong> after you
        copied the file.
      </p><p>Lets say, you installed Xfce into <code class="filename">/usr/local</code>
      and your system looks for available sessions in
      <code class="filename">/usr/share/xsessions</code>, then you will need to
      perform the following step (as superuser) to register Xfce with
      <strong class="application"><code>gdm</code></strong>:</p><pre class="screen">cp /usr/local/share/examples/xfce44.desktop /usr/share/xsessions/xfce44.desktop</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setting-up-kdm"></a>Setting up KDM</h3></div></div></div><p>
        If you use the KDE Display Manager (<strong class="application"><code>kdm</code></strong>)
        to log in to your X desktop, and you did not select the option
        <span class="emphasis"><em>Setup Display Managers</em></span> during the installation
        or if for some reason the installer was unable to setup
        <strong class="application"><code>kdm</code></strong> properly, then you will have to manually
        create a <code class="filename">.desktop</code> to teach <strong class="application"><code>kdm</code></strong>
        about your new Xfce 4.4RC2 installation.
        First, you need to locate the directory where <strong class="application"><code>kdm</code></strong>
        searches for its <code class="filename">.desktop</code> files. The commands
      </p><pre class="screen">kde-config locate kde.desktop
locate mwm.desktop
echo `kde-config --expandvars --install data`/kdm/sessions</pre><p>
        may help you to find locate directory. Common locations are
        <code class="filename">/usr/share/apps/kdm/sessions</code> or
        <code class="filename">/usr/local/share/apps/kdm/sessions</code>.
        Once you found the <strong class="application"><code>kdm</code></strong> sessions directory, you
        need to create a new file <code class="filename">xfce44.desktop</code> in this
        directory, with the following content:
      </p><div class="example"><a name="id2549940"></a><p class="title"><b>Example 1. An example xfce44.desktop file</b></p><pre class="programlisting">[Desktop Entry]
Encoding=UTF-8
Type=XSession
Exec=/usr/local/bin/startxfce4
TryExec=/usr/local/bin/startxfce4
Name=Xfce 4.4
Comment=The Xfce 4.4 Desktop Environment
Comment[de]=Die Xfce 4.4 Desktop Umgebung</pre></div><p>
        If you didn't install Xfce into <code class="filename">/usr/local</code>,
        then you'll have to adjust the <code class="varname">Exec</code> and
        <code class="varname">TryExec</code> lines to match your installation.
      </p><p>Now you can login to your new Xfce desktop using
      <strong class="application"><code>kdm</code></strong>. If Xfce doesn't show up in
      <strong class="application"><code>kdm</code></strong> afterwards, check the paths you put in the
      <code class="filename">xfce44.desktop</code> file and try to restart
      <strong class="application"><code>kdm</code></strong>.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setting-up-dtlogin"></a>Setting up dtlogin (Unix)</h3></div></div></div><p>
        The installer tries to automatically detect a CDE installation on
        Unix systems if run as root and installs the following files (if
        not already present):
      </p><pre class="programlisting">
/usr/dt/config/Xsession.xfce4
/usr/dt/config/Xsession.xfce44
/usr/dt/config/C/Xresources.d/Xresources.xfce4
/usr/dt/appconfig/icons/C/Xfce4logo.pm</pre><p>
        Once the installation completed you can simply select
        <span><strong class="guilabel">Xfce 4.4 Desktop</strong></span> from <strong class="application"><code>dtlogin</code></strong>s
        <span><strong class="guimenu">Sessions</strong></span> menu to log into your newly
        installed Xfce. You might need to force <strong class="application"><code>dtlogin</code></strong>
        to reread the list of installed sessions first.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="enabling-xcomposite"></a>Enabling transparency and window shadows</h3></div></div></div><p>
        If you built Xfce against Xorg 6.8.0 or above and selected the
        feature <span><strong class="guilabel">Composition manager</strong></span> during the
        installation, you can now go on and enable transparency and
        window shadows in Xfce.
      </p><p>
        First of all, the Composite extension has to be activated in your
        <code class="filename">/etc/X11/xorg.conf</code> using the following
        section:
      </p><pre class="programlisting">
Section "Extensions"
  Option "Composite" "Enable"
EndSection</pre><p>
        Be sure to restart your Xserver afterwards. On next login, you
        should see window shadows already and the panel should be
        transparent when the mouse pointer is outside the window
        area.
      </p><p>
        You can make individual windows transparent or opaque using the small
        utility <strong class="userinput"><code><span><strong class="command">transset</strong></span></code></strong> which
        is available from the <a href="http://cvs.freedesktop.org/xapps/transset/" target="_top">freedesktop.org
        CVS Server</a> or as part of your Linux distribution. After
        installing <strong class="application"><code>transset</code></strong> you can simply
        run it and click on a window to make it transparent. You can
        choose how much transparency you want. For example
        </p><pre class="screen">$ transset .5</pre><p> will give 50% transparency (allowed
        range is 0 to 1, whereupon 0 means 100% opacity).
      </p><p>
        Please be aware that the Xorg Composite extension is still under
        development, and still includes quite a few bugs. Using the composition
        manager can notably slow down your working environment if your video card
        does not support the RENDER extension in hardware. It is known to work well
        with <a href="http://www.nvidia.com/" target="_top">NVidia</a> graphic
        cards using the <strong class="application"><code>nvidia</code></strong> driver, especially if you
        add the line </p><pre class="programlisting">Option "RenderAccel" "true"</pre><p> in the
        Device section of your <code class="filename">xorg.conf</code>. But take note,
        that Xinerama or TwinView do not play well with Composite, so, for now
        you can either use DualHead or Composite with the <strong class="application"><code>nvidia</code></strong>
        driver.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="uninstalling"></a>Uninstalling</h2></div></div></div><p>If you decide to uninstall Xfce later on - though we doubt
    you will want to do this once you discovered the strength of Xfce -
    run the command</p><pre class="screen">$ xfce4.uninstall</pre><p>with the same user you installed Xfce earlier (e.g. prepend
    <span><strong class="command">sudo</strong></span> if you installed as root). You will be
    presented with a graphical uninstallation wizard. The uninstallation
    process will start once you click <span><strong class="guibutton">Next</strong></span>, so be
    sure to check that you really want to uninstall Xfce before clicking
    <span><strong class="guibutton">Next</strong></span>.</p><div class="screenshot"><div class="mediaobject"><img src="images/uninstall1.png" alt="Uninstall screen"></div></div><p>Once confirmed, the uninstaller will start to remove the Xfce
    Desktop Environment from your system.</p><div class="screenshot"><div class="mediaobject"><img src="images/uninstall2.png" alt="Uninstall screen"></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq"></a>Frequently asked questions</h2></div></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cpp-fails-sanity-check"></a>Installation fails with "C++ preprocessor fails sanity check"</h4></div></div></div><p>
        This error message tells you that the <code class="filename">configure</code>
        script was unable to verify that the C++ preprocessor is setup properly
        on your system. You can most probably fix this problem by installing the
        <strong class="application"><code>g++</code></strong> package for your distribution.
      </p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="unable-to-connect-to-xserver"></a>Installer fails with "Unable to connect to Xserver"</h4></div></div></div><p>
        For some reason the installation wizard is not able to connect
        to an Xserver, which is required for the installer. This usually
        happens when you use <strong class="application"><code>su</code></strong>, and
        <strong class="application"><code>su</code></strong> in turn doesn't pass the
        <code class="varname">DISPLAY</code> environment variable properly.
        Try to use the commands
      </p><pre class="screen">$ xhost +localhost
$ su --preserve-environment
# ./xfce4-4.4RC2-installer.run</pre><p>
        or
      </p><pre class="screen">$ xhost +localhost
$ su
# env DISPLAY=:0 ./xfce4-4.4RC2-installer.run</pre><p>
        instead (replace <code class="varname">:0</code> with your display
        name if required).
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="support"></a>Support and Feedback</h2></div></div></div><p>To report a problem or make a suggestion regarding the installer
    or this manual, use the Xfce forum at <a href="http://forum.xfce.org" target="_top">
    http://forum.xfce.org</a> or point your IRC client to <span class="bold"><strong>irc.freenode.net</strong></span>, join the channel <span class="bold"><strong>#xfce</strong></span> and ask for help.</p><p>In case you want to request a new feature, please make clear why
    you consider it a worth addition for the installer. It is more likely
    that a new feature gets added if you provide good arguments for the
    feature.</p></div></div></body></html>
