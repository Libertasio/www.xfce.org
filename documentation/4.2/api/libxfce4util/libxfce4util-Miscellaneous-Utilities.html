<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Miscellaneous Utilities</title><meta name="generator" content="DocBook XSL Stylesheets V1.66.1"><link rel="start" href="index.html" title="libxfce4util Reference Manual"><link rel="up" href="libxfce4util-utilities.html" title="Xfce Utilities"><link rel="prev" href="libxfce4util-File-Utilities.html" title="File Utilities"><link rel="next" href="libxfce4util-Unicode-Support-Functions.html" title="Unicode Manipulation"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="libxfce4util-File-Utilities.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="libxfce4util-utilities.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">libxfce4util Reference Manual</th><td><a accesskey="n" href="libxfce4util-Unicode-Support-Functions.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="libxfce4util-Miscellaneous-Utilities"></a><div class="titlepage"></div><div class="refnamediv"><h2><span class="refentrytitle">Miscellaneous Utilities</span></h2><p>Miscellaneous Utilities &#8212; Miscellaneous utility functions</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;libxfce4util/libxfce4util.h&gt;


#define     <a href="libxfce4util-Miscellaneous-Utilities.html#XFCE-LICENSE-BSD-CAPS">XFCE_LICENSE_BSD</a>
#define     <a href="libxfce4util-Miscellaneous-Utilities.html#XFCE-LICENSE-GPL-CAPS">XFCE_LICENSE_GPL</a>
#define     <a href="libxfce4util-Miscellaneous-Utilities.html#XFCE-LICENSE-LGPL-CAPS">XFCE_LICENSE_LGPL</a>
const gchar* <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-version-string">xfce_version_string</a>            (void);
const gchar* <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-get-homedir">xfce_get_homedir</a>               (void);
#define     <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-get-homefile">xfce_get_homefile</a>               (...)
gchar*      <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-get-homefile-r">xfce_get_homefile_r</a>             (gchar *buffer,
                                             size_t length,
                                             const gchar *format,
                                             ...);
const gchar* <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-get-userdir">xfce_get_userdir</a>               (void);
#define     <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-get-userfile">xfce_get_userfile</a>               (...)
gchar*      <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-get-userfile-r">xfce_get_userfile_r</a>             (gchar *buffer,
                                             size_t length,
                                             const gchar *format,
                                             ...);
gchar*      <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-strjoin">xfce_strjoin</a>                    (const gchar *separator,
                                             gchar **strings,
                                             gint count);
gchar*      <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-gethostname">xfce_gethostname</a>                (void);
gint        <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-putenv">xfce_putenv</a>                     (const gchar *string);
gint        <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-setenv">xfce_setenv</a>                     (const gchar *name,
                                             const gchar *value,
                                             gboolean overwrite);
void        <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-unsetenv">xfce_unsetenv</a>                   (const gchar *name);
gchar*      <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-expand-variables">xfce_expand_variables</a>           (const gchar *command,
                                             gchar **envp);
</pre></div><div class="refsect1" lang="en"><a name="id2545991"></a><h2>Description</h2><p>

</p></div><div class="refsect1" lang="en"><a name="id2546001"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2546006"></a><h3><a name="XFCE-LICENSE-BSD-CAPS"></a>XFCE_LICENSE_BSD</h3><a class="indexterm" name="id2546018"></a><pre class="programlisting">#define XFCE_LICENSE_BSD  _BUILTIN_LICENSE_TEXT(BSD)
</pre><p>
Contains the text of the BSD license.
</p></div><hr><div class="refsect2" lang="en"><a name="id2546034"></a><h3><a name="XFCE-LICENSE-GPL-CAPS"></a>XFCE_LICENSE_GPL</h3><a class="indexterm" name="id2546044"></a><pre class="programlisting">#define XFCE_LICENSE_GPL  _BUILTIN_LICENSE_TEXT(GPL)
</pre><p>
Contains the text of the GNU General Public License.
</p></div><hr><div class="refsect2" lang="en"><a name="id2546061"></a><h3><a name="XFCE-LICENSE-LGPL-CAPS"></a>XFCE_LICENSE_LGPL</h3><a class="indexterm" name="id2546073"></a><pre class="programlisting">#define XFCE_LICENSE_LGPL _BUILTIN_LICENSE_TEXT(LGPL)
</pre><p>
Contains the text of the GNU Lesser General Public License.
</p></div><hr><div class="refsect2" lang="en"><a name="id2546090"></a><h3><a name="xfce-version-string"></a>xfce_version_string ()</h3><a class="indexterm" name="id2546100"></a><pre class="programlisting">const gchar* xfce_version_string            (void);</pre><p>
Queries the version string of the installed Xfce desktop environment.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the overall version information of the installed Xfce desktop.

</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2546145"></a><h3><a name="xfce-get-homedir"></a>xfce_get_homedir ()</h3><a class="indexterm" name="id2546155"></a><pre class="programlisting">const gchar* xfce_get_homedir               (void);</pre><p>
Similar to <tt class="function">g_get_homedir()</tt> in functionality but will never return NULL.
While <tt class="function">g_get_homedir()</tt> may return NULL under certain circumstances, this
function is garantied to never ever return NULL, but always return a
valid character pointer with the absolute path to the user's home directory.
</p><p>
The returned string is owned by libxfce4util and must not be freed by
the caller.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the path to the current user's home directory.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2546228"></a><h3><a name="xfce-get-homefile"></a>xfce_get_homefile()</h3><a class="indexterm" name="id2546239"></a><pre class="programlisting">#define     xfce_get_homefile(...)</pre><p>
Returns the path to a file in the user's home directory by taking a
NULL terminated list of strings and appending them to the absolute
path of the current user's home directory.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>...</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the absolute path to the specified file in the current user's
          home directory. The caller is responsible for freeing the
	  returned string using <tt class="function">g_free()</tt>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2546297"></a><h3><a name="xfce-get-homefile-r"></a>xfce_get_homefile_r ()</h3><a class="indexterm" name="id2546308"></a><pre class="programlisting">gchar*      xfce_get_homefile_r             (gchar *buffer,
                                             size_t length,
                                             const gchar *format,
                                             ...);</pre><p>
Similar in functionality to <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-get-homefile"><span class="type">xfce_get_homefile</span></a>, but uses a user
defined <i class="parameter"><tt>buffer</tt></i> instead of allocating a new buffer.
</p><p>
xfce_get_homefile_r uses safe string operations, that says, it garanties
that the resulting string is always zero terminated, as long as the
<i class="parameter"><tt>length</tt></i> is greater than zero.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td> pointer to a user provided destination buffer.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>length</tt></i> :</span></td><td> size of <i class="parameter"><tt>buffer</tt></i> in bytes.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>format</tt></i> :</span></td><td> printf style format string.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>...</tt></i> :</span></td><td> the arguments to substitute in the output.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> pointer to <i class="parameter"><tt>buffer</tt></i>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2546466"></a><h3><a name="xfce-get-userdir"></a>xfce_get_userdir ()</h3><a class="indexterm" name="id2546477"></a><pre class="programlisting">const gchar* xfce_get_userdir               (void);</pre><p>
Safe way to retrieve the path to the user's ".xfce4" directory. The path
to the current user's ".xfce4" directory is either taken from the
environment variable XFCE4HOME if defined, or if unset, is gained by
concatenating the path to the user's home directory and the ".xfce4".
That says, it will, by default, return the path "$HOME/.xfce4", where
$HOME is replaced with the absolute path to the user's home directory.
</p><p>
The returned string is managed by libxfce4util and must not be freed by
the caller.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the path to the current user's ".xfce4" directory.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2546530"></a><h3><a name="xfce-get-userfile"></a>xfce_get_userfile()</h3><a class="indexterm" name="id2546540"></a><pre class="programlisting">#define     xfce_get_userfile(...)</pre><p>
Returns the absolute path to a file within the user's ".xfce4" directory,
formed by a NULL terminated list of path components.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>...</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the absolute path to the specified file in the user's ".xfce4"
          directory. The caller is responsible for freeing the returned
	  string using <tt class="function">g_free()</tt>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2546598"></a><h3><a name="xfce-get-userfile-r"></a>xfce_get_userfile_r ()</h3><a class="indexterm" name="id2546609"></a><pre class="programlisting">gchar*      xfce_get_userfile_r             (gchar *buffer,
                                             size_t length,
                                             const gchar *format,
                                             ...);</pre><p>
</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td> user provided destination buffer.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>length</tt></i> :</span></td><td> size of <i class="parameter"><tt>buffer</tt></i> in bytes.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>format</tt></i> :</span></td><td> printf style format string.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>...</tt></i> :</span></td><td> arguments to substitute in the output.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> pointer to <i class="parameter"><tt>buffer</tt></i>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2546739"></a><h3><a name="xfce-strjoin"></a>xfce_strjoin ()</h3><a class="indexterm" name="id2546750"></a><pre class="programlisting">gchar*      xfce_strjoin                    (const gchar *separator,
                                             gchar **strings,
                                             gint count);</pre><p>
Joins the <i class="parameter"><tt>count</tt></i> character strings pointed to by <i class="parameter"><tt>strings</tt></i> using <i class="parameter"><tt>separator</tt></i>
to a single string.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>separator</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>strings</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>count</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the joined string. The string has to be freed by the caller
              using <tt class="function">g_free()</tt> when no longer needed.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2546882"></a><h3><a name="xfce-gethostname"></a>xfce_gethostname ()</h3><a class="indexterm" name="id2546892"></a><pre class="programlisting">gchar*      xfce_gethostname                (void);</pre><p>
Portable way to query the hostname of the node running the process. This
function does not ever return <tt class="literal">NULL</tt>, but always returns a string containing
the current node's hostname.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the current node's hostname. The string has to be freed
              by the caller using <tt class="function">g_free()</tt>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2546952"></a><h3><a name="xfce-putenv"></a>xfce_putenv ()</h3><a class="indexterm" name="id2546963"></a><pre class="programlisting">gint        xfce_putenv                     (const gchar *string);</pre><p>
Portable replacement for the Unix <tt class="function">putenv()</tt> library function. <i class="parameter"><tt>string</tt></i> has
to have the form "name=value". Calling <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-putenv"><tt class="function">xfce_putenv()</tt></a> this way is equal to
calling xfce_setenv("name", "value", <tt class="literal">TRUE</tt>).</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>string</tt></i> :</span></td><td> Character string in the form "name=value".
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> 0 if the operation was successful; otherwise the global
              variable errno is set to indicate the error and a value
              of -1 is returned.

</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2547063"></a><h3><a name="xfce-setenv"></a>xfce_setenv ()</h3><a class="indexterm" name="id2547073"></a><pre class="programlisting">gint        xfce_setenv                     (const gchar *name,
                                             const gchar *value,
                                             gboolean overwrite);</pre><p>
If the variable <i class="parameter"><tt>name</tt></i> does not exists in the list of environment variables,
it is inserted with its value being set to <i class="parameter"><tt>value</tt></i>. If the variable does
exist, then its value is only changed to <i class="parameter"><tt>value</tt></i> if <i class="parameter"><tt>overwrite</tt></i> is TRUE.
</p><p>
On plattforms that provide a working native <tt class="function">setenv()</tt> library call, this
functions is used, on all other plattforms <tt class="function">setenv()</tt> is emulated using
<a href="libxfce4util-Miscellaneous-Utilities.html#xfce-putenv"><tt class="function">xfce_putenv()</tt></a>. That says, <a href="libxfce4util-Miscellaneous-Utilities.html#xfce-setenv"><tt class="function">xfce_setenv()</tt></a> is not subject to the limitations
that apply to some <tt class="function">setenv()</tt> implementations and seem also to apply to
<tt class="function">g_setenv()</tt> in Glib 2.4.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> the name of the environment variable to set, must not contain '='.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>value</tt></i> :</span></td><td> the value to set the variable to.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>overwrite</tt></i> :</span></td><td> whether to change the variable if it already exists.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> 0 if the operation was successful; otherwise the global
              variable errno is set to indicate the error and a value
              of -1 is returned.

</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2547280"></a><h3><a name="xfce-unsetenv"></a>xfce_unsetenv ()</h3><a class="indexterm" name="id2547291"></a><pre class="programlisting">void        xfce_unsetenv                   (const gchar *name);</pre><p>
Deletes all instances of the variables <i class="parameter"><tt>name</tt></i> from the list of environment
variables in the current process.
</p><p>
Note that on some systems, the memory used for the variable and its value
can't be reclaimed. Furthermore, this function can't be guaranteed to
operate in a threadsafe way.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> the name of the environment variable to unset, must not contain '='.
</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2547358"></a><h3><a name="xfce-expand-variables"></a>xfce_expand_variables ()</h3><a class="indexterm" name="id2547369"></a><pre class="programlisting">gchar*      xfce_expand_variables           (const gchar *command,
                                             gchar **envp);</pre><p>
Expands shell like environment variables and tilde (~/ and ~user/ are both supported)
in <i class="parameter"><tt>command</tt></i>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>command</tt></i> :</span></td><td> Input string.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>envp</tt></i> :</span></td><td> Addition environment variables to take into account. These
           variables have higher priority than the ones in the process's
           environment.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">NULL</tt> on error, else the string, which should be freed using
              <tt class="function">g_free()</tt> when no longer needed.

</td></tr></tbody></table></div><p>Since  4.2
</p></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="libxfce4util-File-Utilities.html"><b>&lt;&lt; File Utilities</b></a></td><td align="right"><a accesskey="n" href="libxfce4util-Unicode-Support-Functions.html"><b>Unicode Manipulation &gt;&gt;</b></a></td></tr></table></body></html>
