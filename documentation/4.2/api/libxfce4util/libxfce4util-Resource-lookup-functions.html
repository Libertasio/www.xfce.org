<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Resource lookup functions</title><meta name="generator" content="DocBook XSL Stylesheets V1.66.1"><link rel="start" href="index.html" title="libxfce4util Reference Manual"><link rel="up" href="libxfce4util-utilities.html" title="Xfce Utilities"><link rel="prev" href="libxfce4util-utilities.html" title="Xfce Utilities"><link rel="next" href="libxfce4util-Resource-Config-File-Support.html" title="Resource Config File Support"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="libxfce4util-utilities.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="libxfce4util-utilities.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">libxfce4util Reference Manual</th><td><a accesskey="n" href="libxfce4util-Resource-Config-File-Support.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="libxfce4util-Resource-lookup-functions"></a><div class="titlepage"></div><div class="refnamediv"><h2><span class="refentrytitle">Resource lookup functions</span></h2><p>Resource lookup functions &#8212; </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;libxfce4util/libxfce4util.h&gt;


enum        <a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a>;
gboolean    (<a href="libxfce4util-Resource-lookup-functions.html#XfceMatchFunc">*XfceMatchFunc</a>)                (const gchar *basedir,
                                             const gchar *relpath,
                                             gpointer user_data);
gchar**     <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-dirs">xfce_resource_dirs</a>              (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type);
gchar*      <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-lookup">xfce_resource_lookup</a>            (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *filename);
gchar**     <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-lookup-all">xfce_resource_lookup_all</a>        (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *filename);
gchar**     <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-match">xfce_resource_match</a>             (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *pattern,
                                             gboolean unique);
gchar**     <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-match-custom">xfce_resource_match_custom</a>      (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             gboolean unique,
                                             <a href="libxfce4util-Resource-lookup-functions.html#XfceMatchFunc">XfceMatchFunc</a> func,
                                             gpointer user_data);
void        <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-push-path">xfce_resource_push_path</a>         (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *path);
void        <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-pop-path">xfce_resource_pop_path</a>          (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type);
gchar*      <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-save-location">xfce_resource_save_location</a>     (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *relpath,
                                             gboolean create);
</pre></div><div class="refsect1" lang="en"><a name="id2533317"></a><h2>Description</h2><p>

</p></div><div class="refsect1" lang="en"><a name="id2533327"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2533333"></a><h3><a name="XfceResourceType"></a>enum XfceResourceType</h3><a class="indexterm" name="id2533344"></a><pre class="programlisting">typedef enum
{
  XFCE_RESOURCE_DATA   = 0,
  XFCE_RESOURCE_CONFIG = 1,
  XFCE_RESOURCE_CACHE  = 2,
  XFCE_RESOURCE_ICONS  = 3,
  XFCE_RESOURCE_THEMES = 4,
} XfceResourceType;
</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><tt class="literal">XFCE_RESOURCE_DATA</tt></span></td><td>where applications store data.
</td></tr><tr><td><span class="term"><tt class="literal">XFCE_RESOURCE_CONFIG</tt></span></td><td>configuration files.
</td></tr><tr><td><span class="term"><tt class="literal">XFCE_RESOURCE_CACHE</tt></span></td><td>cached information.
</td></tr><tr><td><span class="term"><tt class="literal">XFCE_RESOURCE_ICONS</tt></span></td><td>icon search path.
</td></tr><tr><td><span class="term"><tt class="literal">XFCE_RESOURCE_THEMES</tt></span></td><td>themes search path.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2533440"></a><h3><a name="XfceMatchFunc"></a>XfceMatchFunc ()</h3><a class="indexterm" name="id2533451"></a><pre class="programlisting">gboolean    (*XfceMatchFunc)                (const gchar *basedir,
                                             const gchar *relpath,
                                             gpointer user_data);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>basedir</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>relpath</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>user_data</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2533549"></a><h3><a name="xfce-resource-dirs"></a>xfce_resource_dirs ()</h3><a class="indexterm" name="id2533560"></a><pre class="programlisting">gchar**     xfce_resource_dirs              (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type);</pre><p>
Queries the list of possible directories for the specified <i class="parameter"><tt>type</tt></i>. The
first element of the list is always the save location for <i class="parameter"><tt>type</tt></i>. None
of the directories returned in the list are garantied to exist.
</p><p>
This function should be rarely used. You should consider using
<a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-lookup"><span class="type">xfce_resource_lookup</span></a>, <span class="type">xfce_resource_lookup_dirs</span> or
 <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-match"><span class="type">xfce_resource_match</span></a> instead.
</p><p>
The returned list must be freed using <tt class="function">g_strfreev()</tt>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of the resource.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> list of possible directories for <i class="parameter"><tt>type</tt></i>.

</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2533690"></a><h3><a name="xfce-resource-lookup"></a>xfce_resource_lookup ()</h3><a class="indexterm" name="id2533701"></a><pre class="programlisting">gchar*      xfce_resource_lookup            (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *filename);</pre><p>
Looks for a resource of the specified <i class="parameter"><tt>type</tt></i> whose relative path matches
<i class="parameter"><tt>filename</tt></i>. <i class="parameter"><tt>filename</tt></i> can either reference a regular file, in which case
it must not end with a slash character ('/'), or a directory, when
<i class="parameter"><tt>filename</tt></i> contains a trailing slash character ('/').</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of resource to lookup.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>filename</tt></i> :</span></td><td> relative filename of the resource, e.g. "xfwm4/xfwmrc".
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the absolute path to the first file or directory in the
              search path, that matches <i class="parameter"><tt>filename</tt></i> or <tt class="literal">NULL</tt> if no such
              file or directory could be found.

</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2533829"></a><h3><a name="xfce-resource-lookup-all"></a>xfce_resource_lookup_all ()</h3><a class="indexterm" name="id2533840"></a><pre class="programlisting">gchar**     xfce_resource_lookup_all        (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *filename);</pre><p>
Similar to <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-lookup"><span class="type">xfce_resource_lookup</span></a>, but returns all resource of the specified <i class="parameter"><tt>type</tt></i>,
that whose name is <i class="parameter"><tt>filename</tt></i>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of the resource to lookup.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>filename</tt></i> :</span></td><td> relative file path. If <i class="parameter"><tt>filename</tt></i> contains a trailing slash character
            it is taken to reference a directory, else it is taken to reference
            a file.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>

</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2533954"></a><h3><a name="xfce-resource-match"></a>xfce_resource_match ()</h3><a class="indexterm" name="id2533966"></a><pre class="programlisting">gchar**     xfce_resource_match             (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *pattern,
                                             gboolean unique);</pre><p>
Tries to find all resources with the specified <i class="parameter"><tt>type</tt></i>. The function will
look into all specified directories and return all filenames in these
directories. The returned filenames are given relative the base directories
specified by <i class="parameter"><tt>type</tt></i>.
</p><p>
If <i class="parameter"><tt>pattern</tt></i> contains a trailing slash, <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-match"><span class="type">xfce_resource_match</span></a> looks only for
directories that match <i class="parameter"><tt>pattern</tt></i>, else it'll only look for regular files. In
case you are looking for directories, the returned entries will contain a
trailing slash as well, so you can easily use them with other resource
functions like <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-lookup"><span class="type">xfce_resource_lookup</span></a> or <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-save-location"><span class="type">xfce_resource_save_location</span></a>.
</p><p>
Example: xfce_resource_match (XFCE_RESOURCE_CONFIG, "foo/bar*") will probably
return ("foo/bar", "foo/barbaz", ...).</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of the resource to locate directories for.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pattern</tt></i> :</span></td><td> only accept filenames that fit to the pattern. The pattern
             needs to be a valid GPattern.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>unique</tt></i> :</span></td><td> if <tt class="literal">TRUE</tt>, only return items which have unique suffixes.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> string array of all the relative paths whose names matches the
              given <i class="parameter"><tt>pattern</tt></i>. The return value has to be freed using
              <tt class="function">g_strfreev()</tt> when no longer needed.

</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2534165"></a><h3><a name="xfce-resource-match-custom"></a>xfce_resource_match_custom ()</h3><a class="indexterm" name="id2534176"></a><pre class="programlisting">gchar**     xfce_resource_match_custom      (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             gboolean unique,
                                             <a href="libxfce4util-Resource-lookup-functions.html#XfceMatchFunc">XfceMatchFunc</a> func,
                                             gpointer user_data);</pre><p>
Yet to be implemented!</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of the resource to locate directories for.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>unique</tt></i> :</span></td><td> if <tt class="literal">TRUE</tt>, only return items which have unique suffixes.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>func</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>user_data</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>

</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2534310"></a><h3><a name="xfce-resource-push-path"></a>xfce_resource_push_path ()</h3><a class="indexterm" name="id2534321"></a><pre class="programlisting">void        xfce_resource_push_path         (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *path);</pre><p>
Appends <i class="parameter"><tt>path</tt></i> to the search path list for <i class="parameter"><tt>type</tt></i>. This function was
written primary for use within modules in larger applications, for example
MCS plugins.
</p><p>
For example, if you need to add a specific path to the search path list
in your MCS, you should call <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-push-path"><span class="type">xfce_resource_push_path</span></a> prior to calling
one of the resource search functions and call <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-pop-path"><span class="type">xfce_resource_pop_path</span></a>
right afterwards.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of the resource which search list should be expanded.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>path</tt></i> :</span></td><td> search path to add.
</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2534434"></a><h3><a name="xfce-resource-pop-path"></a>xfce_resource_pop_path ()</h3><a class="indexterm" name="id2534445"></a><pre class="programlisting">void        xfce_resource_pop_path          (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type);</pre><p>
Undoes the effect of the latest call to <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-push-path"><span class="type">xfce_resource_push_path</span></a>. You
should take special care to call <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-pop-path"><span class="type">xfce_resource_pop_path</span></a> exactly same
times as <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-push-path"><span class="type">xfce_resource_push_path</span></a>, everything else might result in
unwanted and maybe even undefined behaviour. You have been warned!</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of the resource which search list should be shrinked.
</td></tr></tbody></table></div><p>Since  4.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2534528"></a><h3><a name="xfce-resource-save-location"></a>xfce_resource_save_location ()</h3><a class="indexterm" name="id2534540"></a><pre class="programlisting">gchar*      xfce_resource_save_location     (<a href="libxfce4util-Resource-lookup-functions.html#XfceResourceType">XfceResourceType</a> type,
                                             const gchar *relpath,
                                             gboolean create);</pre><p>
If <i class="parameter"><tt>relpath</tt></i> contains a trailing slash ('/') character, <a href="libxfce4util-Resource-lookup-functions.html#xfce-resource-save-location"><span class="type">xfce_resource_save_location</span></a> 
finds the directory to save files into for the given type in the user's
home directory. All directories needed (including those given by
<i class="parameter"><tt>relpath</tt></i>) will be created on demand if <i class="parameter"><tt>create</tt></i> if <tt class="literal">TRUE</tt>.
</p><p>
If <i class="parameter"><tt>relpath</tt></i> does not end with a slash ('/') character, it is taken to be
the name of a file to return the save location for. All the directories
needed will be created on demand if <i class="parameter"><tt>create</tt></i> is <tt class="literal">TRUE</tt>.
</p><p>
Specifying <tt class="literal">NULL</tt> or the empty string for <i class="parameter"><tt>relpath</tt></i> allows you to discover
the base path for saving files of the specified <i class="parameter"><tt>type</tt></i>, though normally
you should not need this.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of location to return.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>relpath</tt></i> :</span></td><td> relative path of the resource.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>create</tt></i> :</span></td><td> whether to create missing directory.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the path where resources of the specified <i class="parameter"><tt>type</tt></i> should be
              saved or <tt class="literal">NULL</tt> on error. The returned string should be freed
              when no longer needed.

</td></tr></tbody></table></div><p>Since  4.2
</p></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="libxfce4util-utilities.html"><b>&lt;&lt; Xfce Utilities</b></a></td><td align="right"><a accesskey="n" href="libxfce4util-Resource-Config-File-Support.html"><b>Resource Config File Support &gt;&gt;</b></a></td></tr></table></body></html>
